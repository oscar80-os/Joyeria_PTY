<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Checkout</title>
        <link rel="stylesheet" href="css/styles.css">
        </head>
        <body>
          <header>
              <!-- Copia el nav de index.html -->
                </header>
                  <main>
                      <h1 data-i18n="checkout">Finalizar Compra</h1>
                          <form id="checkout-form">
                                <label for="name">Nombre:</label>
                                      <input type="text" id="name" required>
                                            <label for="email">Email:</label>
                                                  <input type="email" id="email" required>
                                                        <button type="submit" data-i18n="pay">Pagar con Punto Pago</button>
                                                            </form>
                                                              </main>
                                                                <footer>
                                                                    <!-- Copia el footer de index.html -->
                                                                      </footer>
                                                                        <script src="https://unpkg.com/i18next@23.15.1/dist/umd/i18next.min.js"></script>
                                                                          <script src="js/main.js"></script>
                                                                            <script src="js/cart.js"></script>
                                                                              <script src="js/i18n.js"></script>
                                                                                <script src="js/currency.js"></script>
                                                                                  <script>
                                                                                      document.getElementById('checkout-form').addEventListener('submit', async (e) => {
                                                                                            e.preventDefault();
                                                                                                  const total = cart.reduce((sum, item) => sum + item.price * item.quantity, 0);
                                                                                                        // Integraci√≥n con Punto Pago (esqueleto, necesitas API key)
                                                                                                              const response = await fetch('https://api.puntopago.net/payments', {
                                                                                                                      method: 'POST',
                                                                                                                              headers: { 'Authorization': 'Bearer TU_PUNTO_PAGO_API_KEY', 'Content-Type': 'application/json' },
                                                                                                                                      body: JSON.stringify({
                                                                                                                                                amount: total,
                                                                                                                                                          currency: 'USD', // Punto Pago procesa en USD
                                                                                                                                                                    description: 'Compra de productos digitales',
                                                                                                                                                                              redirect_url: window.location.origin + '/success.html',
                                                                                                                                                                                      }),
                                                                                                                                                                                            });
                                                                                                                                                                                                  const data = await response.json();
                                                                                                                                                                                                        window.location.href = data.payment_url; // Redirige a Punto Pago
                                                                                                                                                                                                            });
                                                                                                                                                                                                              </script>
                                                                                                                                                                                                              </body>
                                                                                                                                                                                                              </html>